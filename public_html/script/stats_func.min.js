function save_stats(s){var e=[];$.extend(e,s);var a={fireball:{id:0,uses:0},teleport:{id:1,uses:0},charge:{id:2,uses:0},block:{id:3,uses:0},assassinate:{id:4,uses:0},ambush:{id:5,uses:0},melee:{id:6,uses:0},ranged:{id:7,uses:0},win:{}},r=[];for(var i in e[0].glads)r[i]={charge:!1};var n={};for(var t in e)n.projectiles={},$.extend(!0,n,e[t]),e[t]=JSON.parse(JSON.stringify(n));var o,u=[],d=e[e.length-1];for(var i in d.glads)d.glads[i].hp>0&&(o=i);for(var l in e)for(var c in a){for(var i in e[l].glads)e[l].glads[i].action==a[c].id&&("charge"==c?r[i].charge=!0:!0===r[i].charge?(r[i].charge=!1,a.charge.uses++):a[c].uses++);if(o&&e[l].glads[o].action==a[c].id){var g=!1;for(var f in u)u[f]==c&&(g=!0);g||u.push(c)}}$.post("back_stats.php",{action:"save",fireball:a.fireball.uses,teleport:a.teleport.uses,charge:a.charge.uses,block:a.block.uses,assassinate:a.assassinate.uses,ambush:a.ambush.uses,melee:a.melee.uses,ranged:a.ranged.uses,win:JSON.stringify(u)}).done(function(s){})}function load_stats(s,e){return s||(s=""),e||(e=""),$.post("back_stats.php",{action:"load",start:s,end:e}).done(function(s){})}